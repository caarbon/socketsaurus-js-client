!function(){function a(a,b,d){function f(){var a=c.call(arguments),b=a.shift();if(i.events[b])for(var d=0;d<i.events[b].length;d++)i.events[b][d].apply(i,a)}var i=this,j=d.split(".");this.nsp=j.shift().replace(e,""),this.uri=a,this.opts=b,this.path=j.join("."),this.events={},this.socket=io(a+"/"+this.nsp,{"force new connection":!0,query:b});var k;for(k=0;k<g.length;k++)!function(a){i.socket.on(a,function(){f(a)})}(g[k]);for(k=0;k<h.length;k++)!function(a){i.socket.on(a,function(b){f(a,b)})}(h[k]);this.path&&this.socket.emit("child",d)}function b(b,c){return b=b.trim().replace(d,""),function(d){return d=d.trim().replace(f,""),new a(b,c,d)}}var c=Array.prototype.slice,d=/\/$/,e=/^\//,f=/^\./,g=["connect","connecting","disconnect","reconnect","reconnecting"],h=["connect_failed","error","created","modified","modification","removed"];a.prototype.on=function(a,b){return this.events[a]=this.events[a]||[],this.events[a].push(b),this},a.prototype.off=function(a,b){if(!this.events[a])return this;for(var c;~(c=this.events[a].indexOf(b));)this.events[a].splice(c,1);return 0===this.events[a].length&&delete this.events[a],this},a.prototype.once=function(a,b){var d=this;this.on(a,function(){b.apply(this,c.call(arguments)),d.off(a,b)})},a.prototype.child=function(b){return b=b.trim().replace(f,""),new a(this.uri,this.opts,this.path?this.path+"."+b:b)},a.prototype.root=function(){return new a(this.uri,this.opts)},window.socketsaurus=b}();